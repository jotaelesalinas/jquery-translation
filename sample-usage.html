<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<title>jQuery translate plugin</title>
	
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<meta name="viewport" content="width=device-width">
	
	<script src="http://www.wolford.com/testing/shop2/js/libs/modernizr-2.5.3.min.js"></script>
	
	<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	
	<script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
	<link rel="stylesheet" href="http://www.wolford.com/testing/shop2/bootstrap/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="http://www.wolford.com/testing/shop2/bootstrap/css/bootstrap-responsive.min.css"/>
	<script type="text/javascript" src="http://www.wolford.com/testing/shop2/bootstrap/js/bootstrap.min.js"></script>
	
    <link href="http://twitter.github.com/bootstrap/assets/css/docs.css" rel="stylesheet">
    <link href="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.css" rel="stylesheet">
	
	<script src="jquery.translate.js"></script>

</head>

<body>
	<div class="container">
		<h1>jQuery translate plugin</h1>
		
		<p>XXX plugin signature</p>
		
		<p>XXX options</p>
		
		<!-- ########################################################################### -->
		
		<h3>Basic use case</h3>
		
		<ul>
			<li>Add a <code>data-trans_id</code> attribute to the HTML elements you want to translate.</li>
			<li>Create a javascript object with the translated strings.</li>
			<li>Call translate plugin on the desired elements, passing the object with the translations.</li>
			<li>Chain the result if you feel like.</li>
		</ul>
		
		<div class="bs-docs-example" id="sample-simple">
	<button class="trans-simple btn btn-primary" data-trans_id="_buy_now"></button>
	<button class="trans-simple btn" data-trans_id="_fint_out_more"></button>
	<button class="trans-simple btn" data-trans_id="_accept"></button>
	
	<script>
		$(document).ready( function () {
			$('.trans-simple')
				.translate( {
					"translations": {
						"_buy_now": "Buy now",
						"_fint_out_more": "Find out more",
						"_accept": "Accept"
					}
				} )
				.css( {
					"font-style": "italic",
					"font-variant": "small-caps"
				} );
		} );
	</script>
		</div>

		<pre class="sample prettyprint linenums" style="margin-bottom: 9px;" id="pre-sample-simple"></pre>
		<script>
			function show_sample_code (sample_id) {
				var html = $('#sample-' + sample_id).html()
						   .replace(/</g, '&lt;')
						   .replace(/>/g, '&gt;')
						   .replace(/"/g, '&quot;')
						   .replace(/\r/g, '')
						   .replace(/\t/g, '    ')
						   .replace(/\n    /g, "\n\t");
				$('#pre-sample-' + sample_id).html(html);
			}
			show_sample_code('simple');
		</script>
		
		<!-- ########################################################################### -->
		
		<h3>Several languages</h3>
		
		<p>Just in case you need it</p>
		
		<div class="bs-docs-example" id="sample-several">
	<p><button class="trans-several-en btn btn-primary" data-trans_id="_buy_now"></button></p>
	<p><button class="trans-several-it btn" data-trans_id="_fint_out_more"></button></p>

	<script>
		$(document).ready( function () {
			$('.trans-several-en').translate( {
				"translations": {
					"_buy_now": "Buy now",
					"_fint_out_more": "Find out more"
				}
			} );
			$('.trans-several-it').translate( {
				"translations": {
					"_buy_now": "Acquista",
					"_fint_out_more": "Scopri"
				}
			} );
		} );
	</script>
		</div>

		<pre class="sample prettyprint linenums" style="margin-bottom: 9px;" id="pre-sample-several"></pre>
		<script>
			show_sample_code('several');
		</script>
		
		<!-- ########################################################################### -->
		
		<h3>Parameters</h3>
		
		<p>Just because we developers love parameters!</p>
		
		XXX parameter format
		
		<div class="bs-docs-example" id="sample-params">
	<p>
		<span class="trans-params btn btn-primary" data-trans_id="_get_voucher" data-param_amount="$10.00"></span>
		<span class="trans-params" data-trans_id="_remaining_vouchers" data-param_num="7" data-param_end_date="10/21/2012"></span>
	</p>

	<script>
		$(document).ready( function () {
			$('.trans-params').translate( {
				"translations": {
					"_get_voucher": "Get your [_AMOUNT_] voucher now",
					"_remaining_vouchers": "There's only [_NUM_] left until [_END_DATE_]!"
				}
			} );
		} );
	</script>
		</div>

		<pre class="sample prettyprint linenums" style="margin-bottom: 9px;" id="pre-sample-params"></pre>
		<script>
			show_sample_code('params');
		</script>
		
		<!-- ########################################################################### -->
		
		<h3>Missing translations: default CSS classes</h3>
		
		<p><code>trans-not-found</code> and <code>trans-missing-param</code> classes are added by default when
		   a string is not found in the translation table o when a parameter is not found in the <code>data-param_*</code>
		   attributes, respectively.</p>
		
		<div class="bs-docs-example" id="sample-missing-css">
	<style>
		.p-sample-missing-css .trans-not-found {
			background-color:#eee;
			color:red;
			font-weight:bold;
			padding: .25em;
		}
		.p-sample-missing-css .trans-missing-param {
			background-color:#eee;
			color:orange;
			font-weight:bold;
			padding: .25em;
		}
	</style>
	
	<p class="p-sample-missing-css">
		<span class="trans-missing-css" data-trans_id="_get_voucher" data-param_amount="$10.00"></span>
		<span class="trans-missing-css" data-trans_id="_remaining_vouchers" data-param_num="7"></span>
	</p>

	<script>
		$(document).ready( function () {
			$('.trans-missing-css').translate( {
				"translations": {
					"_get_voucer": "Get your [_AMOUNT_] voucher now", // note the typo in "voucher"!
					"_remaining_vouchers": "There's only [_NUM_] left until [_END_DATE_]!"
				}
			} );
		} );
	</script>
		</div>

		<pre class="sample prettyprint linenums" style="margin-bottom: 9px;" id="pre-sample-missing-css"></pre>
		<script>
			show_sample_code('missing-css');
		</script>
		
		<!-- ########################################################################### -->
		
		<h3>Missing translations: events</h3>
		
		<p>This plugin fires three namespaced events:</p>
		
		<ul>
			<li><code>finished.translate</code> fires when the processing is done. It fires in just one of the selected elements, can't specify which one.
			    <br />
				Extra arguments of handler function:
				<ul style="margin-bottom: .75em;">
					<li><code>selector</code>: selector used to call the plugin
				</ul>
			<li><code>fail_strid.translate</code> fires every time a translation string is not found.
			    <br />
				Extra arguments of handler function:
				<ul style="margin-bottom: .75em;">
					<li><code>element</code>: the element that caused the event to trigger
					<li><code>lang</code>: the language used
					<li><code>strid</code>: the string identificator
				</ul>
			<li><code>fail_param.translate</code> fires every time a paramenter is not found in the <code>data-param_*</code> attributes.
			    <br />
				Extra arguments of handler function are the same than <code>fail_strid.translate</code> plus:
				<ul style="margin-bottom: .75em;">
					<li><code>param</code>: the parameter that was not found (full string as present in the translated string)
				</ul>
		</ul>
		
		<p>Open your console and see the output of this examle.</p>
		
		<div class="bs-docs-example" id="sample-missing-events">
	<style>
		.p-sample-missing-events .trans-not-found {
			background-color: orange;
			color:white;
			font-weight:bold;
			padding: .5em;
		}
		.p-sample-missing-events .trans-missing-param {
			background-color: skyblue;
			color:white;
			font-weight:bold;
			padding: .5em;
		}
	</style>
	
	<p class="p-sample-missing-events">
		<span class="trans-missing-events" data-trans_id="_get_voucher" data-param_amount="$10.00"></span>
		<span class="trans-missing-events" data-trans_id="_remaining_vouchers" data-param_end_date="10/21/2012"></span>
	</p>

	<script>
		$(document).ready( function () {
			$('.trans-missing-events')
				.bind('fail_param.translate', function (e, element, lang, strid, param) {
					$(this).addClass('trans-missing-param');
					console.log( [ 'fail_param.translate', e, element, lang, strid, param ] );
				} )
				.bind('fail_strid.translate', function (e, element, lang, strid) {
					$(this).addClass('trans-not-found');
					console.log( [ 'fail_strid.translate', e, element, lang, strid ] );
				} )
				.bind('finished.translate', function (e, selector) {
					console.log( ['finished.translate', e, selector] );
				} )
				.translate( {
					"translations": {
						"_get_voucer": "Get your [_AMOUNT_] voucher now", // note the typo in "voucher"!
						"_remaining_vouchers": "There's only [_NUM_] left until [_END_DATE_]!"
					}
				} );
		} );
	</script>
		</div>

		<pre class="sample prettyprint linenums" style="margin-bottom: 9px;" id="pre-sample-missing-events"></pre>
		<script>
			show_sample_code('missing-events');
		</script>

		<!-- ########################################################################### -->
		
	<script src="http://twitter.github.com/bootstrap/assets/js/google-code-prettify/prettify.js"></script>

</body>
	
</html>